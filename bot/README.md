# ü§ñ BookingPro Telegram Bot

Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Google Calendar –∏ Firebase.

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ó–∞–ø–∏—Å—å –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ Google Calendar
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å—è—Ö
- ‚úÖ –û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–ø–∏—Å–µ–π
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ Firebase Firestore

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# Telegram Bot Token (–æ—Ç @BotFather)
TELEGRAM_BOT_TOKEN=your_bot_token_here

# –í–∞—à Telegram ID (–æ—Ç @userinfobot)
ADMIN_TELEGRAM_ID=your_telegram_id_here

# Firebase Service Account
FIREBASE_SERVICE_ACCOUNT_PATH=./firebase-service-account.json

# Google Calendar Credentials
GOOGLE_CALENDAR_CREDENTIALS_PATH=./google-calendar-credentials.json
GOOGLE_CALENDAR_ID=your-email@gmail.com

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–±–æ—Ç—ã
TIMEZONE=Europe/Moscow
WORK_START_HOUR=9
WORK_END_HOUR=18
SLOT_DURATION=60
BUFFER_TIME=0

# –£—Å–ª—É–≥–∞
SERVICE_NAME=–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞
SERVICE_PRICE=2500
SERVICE_DURATION=60
```

### 3. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### Firebase Service Account:
1. Firebase Console ‚Üí Project Settings ‚Üí Service Accounts
2. Generate new private key
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `firebase-service-account.json` –≤ –ø–∞–ø–∫–µ `bot/`

#### Google Calendar Credentials:
1. Google Cloud Console ‚Üí APIs & Services ‚Üí Credentials
2. Create OAuth 2.0 Client ID
3. –°–∫–∞—á–∞–π—Ç–µ JSON
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `google-calendar-credentials.json` –≤ –ø–∞–ø–∫–µ `bot/`

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

#### –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):
```bash
npm start
```

#### –° –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):
```bash
npm run dev
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
bot/
‚îú‚îÄ‚îÄ bot.js                              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ firebase.js                         # –ú–æ–¥—É–ª—å —Ä–∞–±–æ—Ç—ã —Å Firebase
‚îú‚îÄ‚îÄ calendar.js                         # –ú–æ–¥—É–ª—å —Ä–∞–±–æ—Ç—ã —Å Google Calendar
‚îú‚îÄ‚îÄ config.js                           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ package.json                        # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env                                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ .env.example                        # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ firebase-service-account.json       # Firebase –∫–ª—é—á–∏ (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ google-calendar-credentials.json    # Google –∫–ª—é—á–∏ (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îî‚îÄ‚îÄ README.md                           # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
```

## üéØ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ |
| `/book` | –ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É |
| `/my_bookings` | –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ –∑–∞–ø–∏—Å–∏ |
| `/cancel` | –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å |
| `/help` | –ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å–∏

1. –ö–ª–∏–µ–Ω—Ç –Ω–∞–∂–∏–º–∞–µ—Ç `/book`
2. –í—ã–±–∏—Ä–∞–µ—Ç –¥–∞—Ç—É (—Å–ª–µ–¥—É—é—â–∏–µ 7 –¥–Ω–µ–π)
3. –í—ã–±–∏—Ä–∞–µ—Ç –≤—Ä–µ–º—è –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
4. –í–≤–æ–¥–∏—Ç —Å–≤–æ–µ –∏–º—è
5. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å
6. –ü–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–ø–∏—Å–∏
7. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
8. –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ Google Calendar

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Railway.app

### –ü–æ—á–µ–º—É Railway?
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (500 —á–∞—Å–æ–≤ –≤ –º–µ—Å—è—Ü)
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π –¥–µ–ø–ª–æ–π –∏–∑ GitHub
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
- ‚úÖ –£–¥–æ–±–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ Railway**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://railway.app/
   - –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub

2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç**
   - New Project ‚Üí Deploy from GitHub repo
   - –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π BookingPro
   - –£–∫–∞–∂–∏—Ç–µ –ø–∞–ø–∫—É: `bot/`

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - Variables ‚Üí Raw Editor
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env`
   - –î–ª—è JSON —Ñ–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

4. **–î–ª—è Firebase Service Account:**
   ```
   FIREBASE_SERVICE_ACCOUNT_JSON={
     "type": "service_account",
     ...–≤–µ—Å—å JSON...
   }
   ```

5. **–î–ª—è Google Calendar Credentials:**
   ```
   GOOGLE_CALENDAR_CREDENTIALS_JSON={
     "installed": {
       ...–≤–µ—Å—å JSON...
     }
   }
   ```

6. **–û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –¥–ª—è Railway:**
   –í `firebase.js` –∏ `calendar.js` –¥–æ–±–∞–≤—å—Ç–µ:
   ```javascript
   // –î–ª—è Firebase
   const serviceAccount = process.env.FIREBASE_SERVICE_ACCOUNT_JSON
       ? JSON.parse(process.env.FIREBASE_SERVICE_ACCOUNT_JSON)
       : require(path.resolve(serviceAccountPath));

   // –î–ª—è Google Calendar
   const credentials = process.env.GOOGLE_CALENDAR_CREDENTIALS_JSON
       ? JSON.parse(process.env.GOOGLE_CALENDAR_CREDENTIALS_JSON)
       : require(path.resolve(credentialsPath));
   ```

7. **–ó–∞–¥–µ–ø–ª–æ–π—Ç–µ**
   - Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –±–æ—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: Logs ‚Üí View

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï:**
- `.env`
- `firebase-service-account.json`
- `google-calendar-credentials.json`
- –õ—é–±—ã–µ —Ñ–∞–π–ª—ã —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –∫–ª—é—á–∞–º–∏

–î–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`:
```gitignore
.env
firebase-service-account.json
google-calendar-credentials.json
node_modules/
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env` - –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã?
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –≤–∞—à–µ–º—É –±–æ—Ç—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `npm start` –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `WORK_START_HOUR` –∏ `WORK_END_HOUR`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `GOOGLE_CALENDAR_ID`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ Firebase

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `firebase-service-account.json`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Firestore –≤–∫–ª—é—á–µ–Ω –≤ Firebase Console
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ Firestore

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Firebase Console
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Google Calendar API quota

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è BookingPro**
